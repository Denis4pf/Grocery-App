{"ast":null,"code":"import _defineProperty from \"/home/moringa/Assignments/phase-2/online-grocery-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/moringa/Assignments/phase-2/online-grocery-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/moringa/Assignments/phase-2/online-grocery-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/moringa/Assignments/phase-2/online-grocery-app/src/components/EditForm.js\";\nimport React, { useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nexport default function EditForm(_ref) {\n  var onUpdate = _ref.onUpdate;\n  var navigate = useNavigate();\n  var location = useLocation();\n  var _location$state = location.state,\n      name = _location$state.name,\n      id = _location$state.id,\n      price = _location$state.price,\n      description = _location$state.description,\n      image = _location$state.image;\n\n  var _useState = useState({\n    name: name,\n    price: price,\n    description: description,\n    image: image\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      grocery = _useState2[0],\n      setGrocery = _useState2[1];\n\n  console.log(grocery);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"https://afternoon-cove-03847.herokuapp.com/groceries/\".concat(id), {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Application': 'application/json'\n      },\n      body: JSON.stringify(grocery)\n    }).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(data);\n      onUpdate(data, id);\n      navigate(\"/\");\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  }\n\n  function handleChange(e) {\n    setGrocery(_objectSpread({}, grocery, _defineProperty({}, e.target.name, e.target.value)));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"container\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"name\",\n    value: grocery.name,\n    type: \"text\",\n    placeholder: \"Name of the Product\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 130\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"image\",\n    value: grocery.image,\n    type: \"text\",\n    placeholder: \"Paste url of the grocery image here\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 145\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"price\",\n    value: grocery.price,\n    type: \"text\",\n    placeholder: \"Price of the item per Kg\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 138\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"description\",\n    value: grocery.description,\n    type: \"text\",\n    placeholder: \"Description of the grocery item\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 156\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"upload\",\n    type: \"submit\",\n    value: \"Save Changes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }))));\n}","map":{"version":3,"names":["React","useState","useLocation","useNavigate","EditForm","onUpdate","navigate","location","state","name","id","price","description","image","grocery","setGrocery","console","log","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","catch","error","handleChange","target","value"],"sources":["/home/moringa/Assignments/phase-2/online-grocery-app/src/components/EditForm.js"],"sourcesContent":["import React,{useState} from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nexport default function EditForm({onUpdate}){\n    const navigate = useNavigate()\n    const location = useLocation()\n    const{name,id,price,description,image} = location.state\n    const[grocery,setGrocery]=useState(\n        {\n            name,\n            price,\n            description,\n            image,\n        })\n    \n\n    console.log(grocery)\n    function handleSubmit(e){\n        e.preventDefault()\n        fetch(`https://afternoon-cove-03847.herokuapp.com/groceries/${id}`,{\n                method : \"PATCH\",\n                headers : {\n                    'Content-Type':'application/json',\n                    'Application' : 'application/json'\n                },\n                body:JSON.stringify(grocery)\n            })\n            .then(response => response.json())\n            .then(data => {\n              console.log(data)\n              onUpdate(data,id)\n              navigate(\"/\");\n        }\n              )\n            .catch((error)=>console.log(error))\n      }\n      function handleChange(e){\n        setGrocery({...grocery, [e.target.name] : e.target.value})\n    }\n    return(\n        <div className=\"bg\">\n            <div className=\"form\">\n            <form className=\"container\" onSubmit={handleSubmit}>\n                <input name =\"name\" value={grocery.name}  type=\"text\" placeholder=\"Name of the Product\" onChange={handleChange}/><br/>\n            <input name =\"image\" value={grocery.image}  type=\"text\" placeholder=\"Paste url of the grocery image here\"  onChange={handleChange}/><br/>\n                <input name =\"price\" value={grocery.price}  type=\"text\" placeholder=\"Price of the item per Kg\" onChange={handleChange} /><br/>\n                <input name =\"description\" value={grocery.description}  type=\"text\" placeholder=\"Description of the grocery item\" onChange={handleChange}/><br/>\n\n                <input id=\"upload\" type=\"submit\" value=\"Save Changes\"/> \n            </form>\n        </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}